proxy_buffering    on;
proxy_set_header   X-Real-IP $remote_addr;
proxy_set_header   X-Scheme $scheme;
proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header   Host $http_host;
#  proxy_cache_path   /var/lib/nginx/cache levels=1:2 keys_zone=one:1000m;
proxy_cache_methods GET HEAD;
#  proxy_cache_key $host$uri$is_args$args;
proxy_cache_valid 200 10m;

# Do gzip compression with nginx, not the play application
gzip on;
gzip_comp_level 9;
gzip_proxied any;

# This is important if you use Play chunked response as chunked response is only available with HTTP 1.1
proxy_http_version 1.1;

upstream avyeyes_play_app {
  server 127.0.0.1:9000;
}

#  include       /etc/nginx/mime.types;
#  default_type  application/json;

#  log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
#  '$status $body_bytes_sent "$http_referer" '
#  '"$http_user_agent" "$http_x_forwarded_for"';

#  access_log  /var/log/nginx/access.log  main;

# sendfile        on;

#  keepalive_timeout  65;

index   index.html index.htm;

server {
  location / {
    proxy_pass http://avyeyes_play_app;
  }

#  location ~ ^/(assets|webjars)/ {
#    proxy_cache one;
#    proxy_cache_key "$host$request_uri";
#    proxy_cache_valid 200 30d;
#    proxy_cache_valid 301 302 10m;
#    proxy_cache_valid 404 1m;

#    proxy_pass http://avyeyes_play_app;
#  }
}
